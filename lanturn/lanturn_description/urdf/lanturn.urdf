<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from urdf/lanturn.xacro             | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="lanturn">
  <!-- Some pretty colors -->
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.7 0.7 0.7 1.0"/>
  </material>
  <material name="grey2">
    <color rgba="0.9 0.9 0.9 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.5 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <material name="black">
    <color rgba="0.05 0.05 0.05 1.0"/>
  </material>
  <!-- forward_looking_multibeam_sonar is not defined.
  <xacro:macro name="uuv_fl_multibeam_generic" params="namespace parent_link *origin">
    <xacro:forward_looking_multibeam_sonar
      namespace="${namespace}"
      suffix=""
      parent_link="${parent_link}"
      topic="sonar"
      mass="0.02"
      update_rate="15"
      samples="512"
      fov="1.5708"
      range_min="1.0"
      range_max="100.0"
      range_stddev="0.027"
      mesh="">
      <inertia ixx="0.00001" ixy="0.0" ixz="0.0" iyy="0.00001" iyz="0.0" izz="0.00001" />
      <xacro:insert_block name="origin" />
      <visual>
        <geometry>
          <mesh filename="file://$(find uuv_sensor_ros_plugins)/meshes/p900.dae" scale="1 1 1"/>
        </geometry>
      </visual>
    </xacro:forward_looking_multibeam_sonar>
  </xacro:macro>
-->
  <!-- ROTOR DYNAMICS MACROS -->
  <!-- First order dynamics -->
  <!--
    MACROS FOR CONVERSION FUNCTIONS BETWEEN ROTOR'S ANG. VELOCITY AND
    THRUSTER FORCE
  -->
  <!-- THRUSTER MODULE MACROS  -->
  <!--
    Thruster model with first order dynamic model for the rotor dynamics
    and a proportional non-linear steady-state conversion from the rotor's
    angular velocity to output thrust force
  -->
  <!-- base_link according to ROS conventions: x forward, z up -->
  <link name="lanturn/base_link">
    <inertial>
      <mass value="1862.87"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="525.39" ixy="1.44" ixz="33.41" iyy="794.20" iyz="2.6" izz="691.23"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/vc/auv_ws/src/dave/lanturn/lanturn_description/meshes/lanturn_no_prop.dae" scale="1 1 1"/>
      </geometry>
    </visual>
    <!-- bottom plate -->
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.75"/>
      <geometry>
        <box size="2.56 1.50 0.10"/>
      </geometry>
    </collision>
    <!-- top plate -->
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.60"/>
      <geometry>
        <box size="2.56 1.50 0.40"/>
      </geometry>
    </collision>
    <!-- left / right sides -->
    <collision>
      <origin rpy="0 0 0" xyz="-0.20 0.70 -0.15"/>
      <geometry>
        <box size="2.20 0.10 1.10"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0 0 0" xyz="-0.20 -0.70 -0.15"/>
      <geometry>
        <box size="2.20 0.10 1.10"/>
      </geometry>
    </collision>
  </link>
  <!-- Set up hydrodynamic plugin given as input parameter -->
  <gazebo>
    <plugin filename="libuuv_underwater_object_ros_plugin.so" name="uuv_plugin">
      <fluid_density>1028.0</fluid_density>
      <flow_velocity_topic>hydrodynamics/current_velocity</flow_velocity_topic>
      <debug>0</debug>
      <!-- TODO: All of these values need to be updated -->
      <link name="lanturn/base_link">
        <neutrally_buoyant>0</neutrally_buoyant>
        <volume>1.83826</volume>
        <box>
          <width>1.5</width>
          <length>2.6</length>
          <height>1.6</height>
        </box>
        <center_of_buoyancy>0.0 0.0 0.3</center_of_buoyancy>
        <hydrodynamic_model>
          <type>fossen</type>
          <!-- Added mass -->
          <added_mass>
                     779.79 -6.8773 -103.32  8.5426 -165.54 -7.8033
                    -6.8773    1222   51.29  409.44 -5.8488  62.726
                    -103.32   51.29  3659.9  6.1112 -386.42  10.774
                     8.5426  409.44  6.1112   534.9 -10.027  21.019
                    -165.54 -5.8488 -386.42 -10.027  842.69 -1.1162
                    -7.8033  62.726  10.775  21.019 -1.1162  224.32
                </added_mass>
          <!-- Linear damping -->
          <linear_damping>
                    -74.82 -69.48 -728.4 -268.8 -309.77 -105
                </linear_damping>
          <!-- Non-linear damping -->
          <quadratic_damping>
                    -748.22 -992.53 -1821.01 -672 -774.44 -523.27
                </quadratic_damping>
        </hydrodynamic_model>
      </link>
    </plugin>
  </gazebo>
  <!-- Temp uncomment
    <xacro:include filename="$(find uuv_descriptions)/urdf/rexrov_actuators.xacro"/>
    <xacro:include filename="$(find rexrov_description)/urdf/rexrov_sensors.xacro"/>
    -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/lanturn</robotNamespace>
      <robotParam>/lanturn/robot_description</robotParam>
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="libuuv_joint_state_publisher.so" name="uuv_joint_state_publisher">
      <robotNamespace>lanturn</robotNamespace>
      <updateRate>50</updateRate>
    </plugin>
  </gazebo>
</robot>

